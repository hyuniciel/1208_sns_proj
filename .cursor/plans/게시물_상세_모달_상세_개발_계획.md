# ê²Œì‹œë¬¼ ìƒì„¸ ëª¨ë‹¬ ìƒì„¸ ê°œë°œ ê³„íš

## ê°œìš”

Instagram ìŠ¤íƒ€ì¼ì˜ ê²Œì‹œë¬¼ ìƒì„¸ ëª¨ë‹¬ì„ êµ¬í˜„í•©ë‹ˆë‹¤. Desktopì—ì„œëŠ” ëª¨ë‹¬ í˜•ì‹ìœ¼ë¡œ, Mobileì—ì„œëŠ” ì „ì²´ í˜ì´ì§€ë¡œ ì „í™˜ë©ë‹ˆë‹¤.

**ì°¸ê³  ë¬¸ì„œ:**
- `docs/PRD.md` - ì„¹ì…˜ 5: ê²Œì‹œë¬¼ ìƒì„¸ ëª¨ë‹¬ (Desktop)
- `supabase/migrations/db.sql` - ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
- ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸: `PostCard.tsx`, `CommentList.tsx`, `CommentForm.tsx`, `LikeButton.tsx`

---

## 1. API Route ìƒì„±

### 1-1. `app/api/posts/[postId]/route.ts` ìƒì„±

**ëª©ì :** íŠ¹ì • ê²Œì‹œë¬¼ì˜ ìƒì„¸ ì •ë³´ë¥¼ ì¡°íšŒí•˜ëŠ” API

**êµ¬í˜„ ë‚´ìš©:**
- `GET /api/posts/[postId]`: ê²Œì‹œë¬¼ ìƒì„¸ ì •ë³´ ì¡°íšŒ
  - `postId` íŒŒë¼ë¯¸í„°ë¡œ ê²Œì‹œë¬¼ ID ë°›ê¸°
  - `post_stats` ë·°ë¥¼ í™œìš©í•˜ì—¬ ì¢‹ì•„ìš”/ëŒ“ê¸€ ìˆ˜ í¬í•¨
  - ì‚¬ìš©ì ì •ë³´ (`users` í…Œì´ë¸”) ì¡°ì¸
  - í˜„ì¬ ì‚¬ìš©ìì˜ ì¢‹ì•„ìš” ì—¬ë¶€ í™•ì¸ (`is_liked` í•„ë“œ)
  - ì¸ì¦ëœ ì‚¬ìš©ìì˜ ê²½ìš° ì¢‹ì•„ìš” ìƒíƒœ í¬í•¨
  - ì¸ì¦ë˜ì§€ ì•Šì€ ì‚¬ìš©ìë„ ì¡°íšŒ ê°€ëŠ¥ (ê³µê°œ ê²Œì‹œë¬¼)

**ì‘ë‹µ í˜•ì‹:**
```typescript
{
  data: PostWithUser | null,
  error: string | null
}
```

**ì—ëŸ¬ ì²˜ë¦¬:**
- 404: ê²Œì‹œë¬¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ
- 500: ì„œë²„ ì—ëŸ¬

---

## 2. PostModal ì»´í¬ë„ŒíŠ¸ êµ¬ì¡° ì„¤ê³„

### 2-1. ê¸°ë³¸ êµ¬ì¡°

**íŒŒì¼:** `components/post/PostModal.tsx`

**Props ì¸í„°í˜ì´ìŠ¤:**
```typescript
interface PostModalProps {
  postId: string | null; // nullì´ë©´ ëª¨ë‹¬ ë‹«í˜
  isOpen: boolean;
  onClose: () => void;
  onPostChange?: (postId: string, changes: { likes?: number; comments?: number }) => void;
  currentUserId?: string;
  // ì´ì „/ë‹¤ìŒ ë„¤ë¹„ê²Œì´ì…˜ìš© (ì„ íƒì )
  allPostIds?: string[]; // í˜„ì¬ í”¼ë“œì˜ ëª¨ë“  ê²Œì‹œë¬¼ ID ë°°ì—´
  onNavigate?: (postId: string) => void; // ë‹¤ë¥¸ ê²Œì‹œë¬¼ë¡œ ì´ë™ ì‹œ í˜¸ì¶œ
}
```

**ìƒíƒœ ê´€ë¦¬:**
- `post`: `PostWithUser | null` - í˜„ì¬ ê²Œì‹œë¬¼ ë°ì´í„°
- `comments`: `CommentWithUser[]` - ëŒ“ê¸€ ëª©ë¡
- `isLoading`: `boolean` - ë¡œë”© ìƒíƒœ
- `error`: `string | null` - ì—ëŸ¬ ë©”ì‹œì§€
- `isLoadingComments`: `boolean` - ëŒ“ê¸€ ë¡œë”© ìƒíƒœ

---

## 3. Desktop ë ˆì´ì•„ì›ƒ êµ¬í˜„

### 3-1. ëª¨ë‹¬ ê¸°ë³¸ êµ¬ì¡°

**ë ˆì´ì•„ì›ƒ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ•                                              â€¹   â€º   â”‚ â† í—¤ë” (ë‹«ê¸° + ë„¤ë¹„ê²Œì´ì…˜)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          â”‚ ğŸ‘¤ username          â‹¯     â”‚ â† ì‚¬ìš©ì í—¤ë”
â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        [ì´ë¯¸ì§€]           â”‚                             â”‚
â”‚        (50%)             â”‚      [ëŒ“ê¸€ ëª©ë¡]             â”‚ â† ìŠ¤í¬ë¡¤ ê°€ëŠ¥ ì˜ì—­
â”‚        (ê³ ì •)            â”‚      (ìŠ¤í¬ë¡¤ ê°€ëŠ¥)            â”‚
â”‚                          â”‚                             â”‚
â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          â”‚ â¤ï¸ ğŸ’¬ âœˆï¸            ğŸ”–      â”‚ â† ì•¡ì…˜ ë²„íŠ¼
â”‚                          â”‚ ì¢‹ì•„ìš” 123ê°œ                 â”‚
â”‚                          â”‚ ìº¡ì…˜ í‘œì‹œ                    â”‚
â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          â”‚ ğŸ˜Š ëŒ“ê¸€ ë‹¬ê¸°...       ê²Œì‹œ   â”‚ â† ëŒ“ê¸€ ì…ë ¥ í¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**êµ¬í˜„ ìš”ì†Œ:**
1. **Dialog ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©** (`@/components/ui/dialog`)
   - `Dialog`, `DialogContent` í™œìš©
   - ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ë§ (ìµœëŒ€ ë„ˆë¹„, ë†’ì´ ì œí•œ)
   - Overlay ë°°ê²½ (ë°˜íˆ¬ëª… ê²€ì •)

2. **ì¢Œì¸¡ ì´ë¯¸ì§€ ì˜ì—­ (50%)**
   - `aspect-square` ë¹„ìœ¨ ìœ ì§€
   - ì´ë¯¸ì§€ ê³ ì • (ìŠ¤í¬ë¡¤ ì—†ìŒ)
   - ë”ë¸”íƒ­ ì¢‹ì•„ìš” ê¸°ëŠ¥ (ê¸°ì¡´ PostCardì™€ ë™ì¼)

3. **ìš°ì¸¡ ì»¨í…ì¸  ì˜ì—­ (50%)**
   - ì‚¬ìš©ì í—¤ë” (í”„ë¡œí•„ ì´ë¯¸ì§€, ì´ë¦„, ì‹œê°„, â‹¯ ë©”ë‰´)
   - ëŒ“ê¸€ ëª©ë¡ (ìŠ¤í¬ë¡¤ ê°€ëŠ¥, ì „ì²´ ëŒ“ê¸€ í‘œì‹œ)
   - ì•¡ì…˜ ë²„íŠ¼ (ì¢‹ì•„ìš”, ëŒ“ê¸€, ë¶ë§ˆí¬)
   - ì¢‹ì•„ìš” ìˆ˜ ë° ìº¡ì…˜
   - ëŒ“ê¸€ ì…ë ¥ í¼

4. **í—¤ë” (ë‹«ê¸° + ë„¤ë¹„ê²Œì´ì…˜)**
   - ë‹«ê¸° ë²„íŠ¼ (âœ•)
   - ì´ì „/ë‹¤ìŒ ë²„íŠ¼ (â€¹ â€º) - Desktopë§Œ í‘œì‹œ
   - í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ì§€ì› (ESC: ë‹«ê¸°, â† â†’: ë„¤ë¹„ê²Œì´ì…˜)

---

## 4. Mobile ë ˆì´ì•„ì›ƒ êµ¬í˜„

### 4-1. ì „ì²´ í˜ì´ì§€ ì „í™˜

**êµ¬í˜„ ë°©ì‹:**
- Desktop: Dialog ëª¨ë‹¬ ì‚¬ìš©
- Mobile: ë³„ë„ í˜ì´ì§€ (`/post/[postId]`) ë˜ëŠ” ì¡°ê±´ë¶€ ë Œë”ë§

**ì„ íƒì§€:**
1. **ì¡°ê±´ë¶€ ë Œë”ë§ (ê¶Œì¥)**
   - `useMediaQuery` ë˜ëŠ” `window.innerWidth` ì²´í¬
   - Mobile: ì „ì²´ í™”ë©´ ë ˆì´ì•„ì›ƒìœ¼ë¡œ ì „í™˜
   - Desktop: ëª¨ë‹¬ ìœ ì§€

2. **ë³„ë„ í˜ì´ì§€ ë¼ìš°íŠ¸**
   - `/post/[postId]/page.tsx` ìƒì„±
   - PostCard í´ë¦­ ì‹œ ëª¨ë°”ì¼ì€ ë¼ìš°íŠ¸ ì´ë™, ë°ìŠ¤í¬í†±ì€ ëª¨ë‹¬

**Mobile ë ˆì´ì•„ì›ƒ:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† username          â‹¯   â”‚ â† í—¤ë” (ë’¤ë¡œê°€ê¸° + ë©”ë‰´)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          â”‚
â”‚      [ì´ë¯¸ì§€]             â”‚
â”‚      (ì „ì²´ ë„ˆë¹„)          â”‚
â”‚                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â¤ï¸ ğŸ’¬ âœˆï¸            ğŸ”–   â”‚
â”‚ ì¢‹ì•„ìš” 123ê°œ              â”‚
â”‚ ìº¡ì…˜ í‘œì‹œ                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ëŒ“ê¸€ ëª©ë¡]               â”‚ â† ìŠ¤í¬ë¡¤ ê°€ëŠ¥
â”‚                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ˜Š ëŒ“ê¸€ ë‹¬ê¸°...    ê²Œì‹œ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. ê²Œì‹œë¬¼ ë°ì´í„° ë¡œë”©

### 5-1. useEffectë¡œ ê²Œì‹œë¬¼ ì¡°íšŒ

**êµ¬í˜„:**
```typescript
useEffect(() => {
  if (!postId || !isOpen) return;
  
  async function loadPost() {
    setIsLoading(true);
    setError(null);
    
    try {
      const response = await fetch(`/api/posts/${postId}`);
      if (!response.ok) {
        throw new Error('ê²Œì‹œë¬¼ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      }
      const data = await response.json();
      setPost(data.data);
    } catch (err) {
      setError(err instanceof Error ? err.message : 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜');
    } finally {
      setIsLoading(false);
    }
  }
  
  loadPost();
}, [postId, isOpen]);
```

### 5-2. ëŒ“ê¸€ ëª©ë¡ ë¡œë“œ

**êµ¬í˜„:**
- `postId`ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ëŒ“ê¸€ ëª©ë¡ ì¡°íšŒ
- `/api/comments?post_id=${postId}&limit=50` í˜¸ì¶œ
- ë¬´í•œ ìŠ¤í¬ë¡¤ (ì„ íƒì , ì´ˆê¸°ì—ëŠ” ì „ì²´ ë¡œë“œ)

---

## 6. ì´ì „/ë‹¤ìŒ ê²Œì‹œë¬¼ ë„¤ë¹„ê²Œì´ì…˜

### 6-1. ë„¤ë¹„ê²Œì´ì…˜ ë¡œì§

**êµ¬í˜„:**
- `allPostIds` propìœ¼ë¡œ í˜„ì¬ í”¼ë“œì˜ ëª¨ë“  ê²Œì‹œë¬¼ ID ë°°ì—´ ë°›ê¸°
- í˜„ì¬ `postId`ì˜ ì¸ë±ìŠ¤ ì°¾ê¸°
- ì´ì „/ë‹¤ìŒ ë²„íŠ¼ í´ë¦­ ì‹œ `onNavigate` ì½œë°± í˜¸ì¶œ
- í‚¤ë³´ë“œ í™”ì‚´í‘œ í‚¤ ì§€ì› (â† â†’)

**ì½”ë“œ ì˜ˆì‹œ:**
```typescript
const currentIndex = allPostIds?.findIndex(id => id === postId) ?? -1;
const hasPrevious = currentIndex > 0;
const hasNext = currentIndex >= 0 && currentIndex < (allPostIds?.length ?? 0) - 1;

const handlePrevious = () => {
  if (hasPrevious && allPostIds) {
    onNavigate?.(allPostIds[currentIndex - 1]);
  }
};

const handleNext = () => {
  if (hasNext && allPostIds) {
    onNavigate?.(allPostIds[currentIndex + 1]);
  }
};
```

### 6-2. í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ì²˜ë¦¬

**êµ¬í˜„:**
```typescript
useEffect(() => {
  if (!isOpen) return;
  
  const handleKeyDown = (e: KeyboardEvent) => {
    if (e.key === 'Escape') {
      onClose();
    } else if (e.key === 'ArrowLeft') {
      handlePrevious();
    } else if (e.key === 'ArrowRight') {
      handleNext();
    }
  };
  
  window.addEventListener('keydown', handleKeyDown);
  return () => window.removeEventListener('keydown', handleKeyDown);
}, [isOpen, /* dependencies */]);
```

---

## 7. PostCard í´ë¦­ ì´ë²¤íŠ¸ ì—°ê²°

### 7-1. PostCard ìˆ˜ì •

**íŒŒì¼:** `components/post/PostCard.tsx`

**ë³€ê²½ ì‚¬í•­:**
- `onClick` prop ì¶”ê°€ (ì„ íƒì )
- ì´ë¯¸ì§€ ì˜ì—­ í´ë¦­ ì‹œ ëª¨ë‹¬ ì—´ê¸°
- Desktop: ëª¨ë‹¬ ì—´ê¸°
- Mobile: ëª¨ë‹¬ ë˜ëŠ” í˜ì´ì§€ ë¼ìš°íŠ¸ (êµ¬í˜„ ë°©ì‹ì— ë”°ë¼)

**ì½”ë“œ ì˜ˆì‹œ:**
```typescript
interface PostCardProps {
  // ... ê¸°ì¡´ props
  onPostClick?: (postId: string) => void; // ì¶”ê°€
}

// ì´ë¯¸ì§€ ì˜ì—­ì— onClick ì¶”ê°€
<div 
  className="w-full aspect-square relative bg-gray-100 cursor-pointer select-none"
  onDoubleClick={handleDoubleTap}
  onClick={() => onPostClick?.(post.id)} // ì¶”ê°€
>
  {/* ... */}
</div>
```

### 7-2. PostFeed ìˆ˜ì •

**íŒŒì¼:** `components/post/PostFeed.tsx`

**ë³€ê²½ ì‚¬í•­:**
- `PostModal` ìƒíƒœ ê´€ë¦¬
- `PostCard`ì— `onPostClick` prop ì „ë‹¬
- `allPostIds` ë°°ì—´ ìƒì„± ë° ì „ë‹¬

**ì½”ë“œ ì˜ˆì‹œ:**
```typescript
const [selectedPostId, setSelectedPostId] = useState<string | null>(null);

const handlePostClick = useCallback((postId: string) => {
  setSelectedPostId(postId);
}, []);

const handleCloseModal = useCallback(() => {
  setSelectedPostId(null);
}, []);

// PostCardì— ì „ë‹¬
<PostCard 
  // ... ê¸°ì¡´ props
  onPostClick={handlePostClick}
/>

// PostModal ë Œë”ë§
<PostModal
  postId={selectedPostId}
  isOpen={!!selectedPostId}
  onClose={handleCloseModal}
  allPostIds={posts.map(p => p.id)}
  onNavigate={setSelectedPostId}
  currentUserId={currentUserId}
/>
```

---

## 8. ëŒ“ê¸€ ê¸°ëŠ¥ í†µí•©

### 8-1. CommentList í†µí•©

**ì´ë¯¸ êµ¬í˜„ëœ ì»´í¬ë„ŒíŠ¸ í™œìš©:**
- `CommentList`: ì „ì²´ ëŒ“ê¸€ í‘œì‹œ (maxVisible ì œí•œ ì—†ìŒ)
- `CommentForm`: ëŒ“ê¸€ ì‘ì„± í¼

**êµ¬í˜„:**
```typescript
<CommentList
  postId={post.id}
  comments={comments}
  maxVisible={undefined} // ì „ì²´ í‘œì‹œ
  showAllLink={false} // "ëª¨ë‘ ë³´ê¸°" ë²„íŠ¼ ìˆ¨ê¹€
  onCommentDelete={handleCommentDelete}
  currentUserId={currentUserId}
/>

<CommentForm
  postId={post.id}
  onSubmit={handleCommentSubmit}
  placeholder="ëŒ“ê¸€ ë‹¬ê¸°..."
/>
```

### 8-2. ëŒ“ê¸€ ì‘ì„±/ì‚­ì œ ì‹œ ì—…ë°ì´íŠ¸

**êµ¬í˜„:**
- ëŒ“ê¸€ ì‘ì„± ì‹œ `comments` ìƒíƒœì— ì¶”ê°€
- ëŒ“ê¸€ ì‚­ì œ ì‹œ `comments` ìƒíƒœì—ì„œ ì œê±°
- `commentsCount` ì—…ë°ì´íŠ¸
- ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì— ì•Œë¦¼ (`onPostChange`)

---

## 9. ì¢‹ì•„ìš” ê¸°ëŠ¥ í†µí•©

### 9-1. LikeButton í†µí•©

**ì´ë¯¸ êµ¬í˜„ëœ ì»´í¬ë„ŒíŠ¸ í™œìš©:**
- `LikeButton`: ì¢‹ì•„ìš” ë²„íŠ¼ ë° ì• ë‹ˆë©”ì´ì…˜

**êµ¬í˜„:**
```typescript
<LikeButton
  ref={likeButtonRef}
  postId={post.id}
  initialLiked={post.is_liked || false}
  initialLikesCount={post.likes_count}
  onLikeChange={handleLikeChange}
  size="md"
  enableDoubleTap={true}
/>
```

### 9-2. ì¢‹ì•„ìš” ë³€ê²½ ì‹œ ì—…ë°ì´íŠ¸

**êµ¬í˜„:**
- `handleLikeChange` ì½œë°±ìœ¼ë¡œ ì¢‹ì•„ìš” ìˆ˜ ì—…ë°ì´íŠ¸
- ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì— ì•Œë¦¼ (`onPostChange`)

---

## 10. ìŠ¤íƒ€ì¼ë§ ë° ë°˜ì‘í˜•

### 10-1. Desktop ëª¨ë‹¬ ìŠ¤íƒ€ì¼

**CSS í´ë˜ìŠ¤:**
- ìµœëŒ€ ë„ˆë¹„: `max-w-5xl` (1024px)
- ìµœëŒ€ ë†’ì´: `max-h-[90vh]`
- ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ: `grid grid-cols-2`
- ì¢Œì¸¡ ì´ë¯¸ì§€: `aspect-square`
- ìš°ì¸¡ ì»¨í…ì¸ : `overflow-y-auto` (ìŠ¤í¬ë¡¤ ê°€ëŠ¥)

### 10-2. Mobile ìŠ¤íƒ€ì¼

**CSS í´ë˜ìŠ¤:**
- ì „ì²´ í™”ë©´: `fixed inset-0 z-50`
- ì„¸ë¡œ ë ˆì´ì•„ì›ƒ: `flex flex-col`
- ì´ë¯¸ì§€: `w-full aspect-square`
- ì»¨í…ì¸ : `flex-1 overflow-y-auto`

### 10-3. ë°˜ì‘í˜• ì²˜ë¦¬

**êµ¬í˜„:**
```typescript
const isMobile = typeof window !== 'undefined' && window.innerWidth < 768;

// ë˜ëŠ” useMediaQuery í›… ì‚¬ìš©
```

---

## 11. ë¡œë”© ë° ì—ëŸ¬ ìƒíƒœ

### 11-1. ë¡œë”© UI

**êµ¬í˜„:**
- `PostCardSkeleton` ì¬ì‚¬ìš© ë˜ëŠ” ìƒˆë¡œìš´ `PostModalSkeleton` ìƒì„±
- ì´ë¯¸ì§€ ì˜ì—­: íšŒìƒ‰ ë°•ìŠ¤ + shimmer
- ì»¨í…ì¸  ì˜ì—­: í…ìŠ¤íŠ¸ ìŠ¤ì¼ˆë ˆí†¤

### 11-2. ì—ëŸ¬ ì²˜ë¦¬

**êµ¬í˜„:**
- ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
- "ë‹¤ì‹œ ì‹œë„" ë²„íŠ¼
- ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ì²˜ë¦¬

---

## 12. ì ‘ê·¼ì„± (Accessibility)

### 12-1. ARIA ë ˆì´ë¸”

**êµ¬í˜„:**
- ëª¨ë‹¬ ì œëª©: `aria-labelledby`
- ë‹«ê¸° ë²„íŠ¼: `aria-label="ë‹«ê¸°"`
- ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼: `aria-label="ì´ì „ ê²Œì‹œë¬¼"`, `aria-label="ë‹¤ìŒ ê²Œì‹œë¬¼"`

### 12-2. í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜

**êµ¬í˜„:**
- ESC: ëª¨ë‹¬ ë‹«ê¸°
- â† â†’: ì´ì „/ë‹¤ìŒ ê²Œì‹œë¬¼ (Desktop)
- Tab: í¬ì»¤ìŠ¤ ìˆœì„œ ê´€ë¦¬
- Enter: ëŒ“ê¸€ ì œì¶œ

---

## 13. ì„±ëŠ¥ ìµœì í™”

### 13-1. ì´ë¯¸ì§€ ìµœì í™”

**êµ¬í˜„:**
- Next.js `Image` ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
- `loading="lazy"` (í•„ìš” ì‹œ)
- ì ì ˆí•œ `sizes` ì†ì„±

### 13-2. ë©”ëª¨ì´ì œì´ì…˜

**êµ¬í˜„:**
- `React.memo`ë¡œ PostModal ë˜í•‘
- `useMemo`ë¡œ ê³„ì‚°ëœ ê°’ ìºì‹±
- `useCallback`ìœ¼ë¡œ í•¨ìˆ˜ ë©”ëª¨ì´ì œì´ì…˜

---

## 14. êµ¬í˜„ ìˆœì„œ

1. **API Route ìƒì„±**
   - `app/api/posts/[postId]/route.ts` ìƒì„±
   - GET í•¸ë“¤ëŸ¬ êµ¬í˜„
   - í…ŒìŠ¤íŠ¸

2. **PostModal ê¸°ë³¸ êµ¬ì¡°**
   - ì»´í¬ë„ŒíŠ¸ íŒŒì¼ ìƒì„±
   - Props ì¸í„°í˜ì´ìŠ¤ ì •ì˜
   - ê¸°ë³¸ ë ˆì´ì•„ì›ƒ (Desktop)

3. **ê²Œì‹œë¬¼ ë°ì´í„° ë¡œë”©**
   - useEffectë¡œ ê²Œì‹œë¬¼ ì¡°íšŒ
   - ë¡œë”©/ì—ëŸ¬ ìƒíƒœ ì²˜ë¦¬

4. **ì¢Œì¸¡ ì´ë¯¸ì§€ ì˜ì—­**
   - ì´ë¯¸ì§€ í‘œì‹œ
   - ë”ë¸”íƒ­ ì¢‹ì•„ìš” ê¸°ëŠ¥

5. **ìš°ì¸¡ ì»¨í…ì¸  ì˜ì—­**
   - ì‚¬ìš©ì í—¤ë”
   - ì•¡ì…˜ ë²„íŠ¼
   - ì¢‹ì•„ìš” ìˆ˜ ë° ìº¡ì…˜
   - ëŒ“ê¸€ ëª©ë¡
   - ëŒ“ê¸€ ì…ë ¥ í¼

6. **ì´ì „/ë‹¤ìŒ ë„¤ë¹„ê²Œì´ì…˜**
   - ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼
   - í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ì²˜ë¦¬

7. **Mobile ë ˆì´ì•„ì›ƒ**
   - ë°˜ì‘í˜• ì²˜ë¦¬
   - ì „ì²´ í™”ë©´ ë ˆì´ì•„ì›ƒ

8. **PostCard ì—°ê²°**
   - `onPostClick` prop ì¶”ê°€
   - PostFeedì—ì„œ ëª¨ë‹¬ ìƒíƒœ ê´€ë¦¬

9. **í†µí•© í…ŒìŠ¤íŠ¸**
   - Desktop í…ŒìŠ¤íŠ¸
   - Mobile í…ŒìŠ¤íŠ¸
   - í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ í…ŒìŠ¤íŠ¸
   - ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸

---

## 15. ì£¼ì˜ì‚¬í•­

1. **ëª¨ë‹¬ ì—´ë¦¼ ìƒíƒœ ê´€ë¦¬**
   - URL ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ì‚¬ìš© ê³ ë ¤ (ì„ íƒì )
   - ë¸Œë¼ìš°ì € ë’¤ë¡œê°€ê¸° ì§€ì› (ì„ íƒì )

2. **ì´ë¯¸ì§€ ë¡œë”©**
   - í° ì´ë¯¸ì§€ì˜ ê²½ìš° ë¡œë”© ì‹œê°„ ê³ ë ¤
   - ìŠ¤ì¼ˆë ˆí†¤ UIë¡œ UX ê°œì„ 

3. **ëŒ“ê¸€ ë¬´í•œ ìŠ¤í¬ë¡¤**
   - ì´ˆê¸°ì—ëŠ” ì „ì²´ ë¡œë“œ
   - ë‚˜ì¤‘ì— ë¬´í•œ ìŠ¤í¬ë¡¤ ì¶”ê°€ ê°€ëŠ¥

4. **ë„¤ë¹„ê²Œì´ì…˜ ì„±ëŠ¥**
   - ì´ì „/ë‹¤ìŒ ê²Œì‹œë¬¼ ë¯¸ë¦¬ ë¡œë“œ (ì„ íƒì )
   - ìºì‹± ì „ëµ ê³ ë ¤

5. **ëª¨ë°”ì¼ ì„±ëŠ¥**
   - ì „ì²´ í˜ì´ì§€ ì „í™˜ ì‹œ ì• ë‹ˆë©”ì´ì…˜ ìµœì†Œí™”
   - ì´ë¯¸ì§€ ìµœì í™” í•„ìˆ˜

---

## 16. ì°¸ê³  íŒŒì¼

- `components/post/PostCard.tsx` - ê¸°ì¡´ ê²Œì‹œë¬¼ ì¹´ë“œ êµ¬ì¡° ì°¸ê³ 
- `components/post/CreatePostModal.tsx` - ëª¨ë‹¬ êµ¬ì¡° ì°¸ê³ 
- `components/comment/CommentList.tsx` - ëŒ“ê¸€ ëª©ë¡ ì»´í¬ë„ŒíŠ¸
- `components/comment/CommentForm.tsx` - ëŒ“ê¸€ ì…ë ¥ í¼
- `components/post/LikeButton.tsx` - ì¢‹ì•„ìš” ë²„íŠ¼
- `app/api/posts/route.ts` - ê¸°ì¡´ ê²Œì‹œë¬¼ API ì°¸ê³ 
- `app/api/comments/route.ts` - ëŒ“ê¸€ API ì°¸ê³ 

---

## ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] `app/api/posts/[postId]/route.ts` ìƒì„± ë° êµ¬í˜„
- [ ] `components/post/PostModal.tsx` ê¸°ë³¸ êµ¬ì¡° ìƒì„±
- [ ] Desktop ë ˆì´ì•„ì›ƒ êµ¬í˜„ (ì´ë¯¸ì§€ 50% + ì»¨í…ì¸  50%)
- [ ] ê²Œì‹œë¬¼ ë°ì´í„° ë¡œë”© ë¡œì§ êµ¬í˜„
- [ ] ëŒ“ê¸€ ëª©ë¡ ë¡œë”© ë° í‘œì‹œ
- [ ] ì¢‹ì•„ìš” ê¸°ëŠ¥ í†µí•©
- [ ] ëŒ“ê¸€ ì‘ì„±/ì‚­ì œ ê¸°ëŠ¥ í†µí•©
- [ ] ì´ì „/ë‹¤ìŒ ë„¤ë¹„ê²Œì´ì…˜ êµ¬í˜„
- [ ] í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ì²˜ë¦¬ (ESC, â† â†’)
- [ ] Mobile ë ˆì´ì•„ì›ƒ êµ¬í˜„ (ì „ì²´ í˜ì´ì§€)
- [ ] PostCard í´ë¦­ ì´ë²¤íŠ¸ ì—°ê²°
- [ ] PostFeedì—ì„œ ëª¨ë‹¬ ìƒíƒœ ê´€ë¦¬
- [ ] ë¡œë”© UI (Skeleton)
- [ ] ì—ëŸ¬ ì²˜ë¦¬
- [ ] ì ‘ê·¼ì„± ê°œì„  (ARIA ë ˆì´ë¸”)
- [ ] ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸
- [ ] ì„±ëŠ¥ ìµœì í™”

