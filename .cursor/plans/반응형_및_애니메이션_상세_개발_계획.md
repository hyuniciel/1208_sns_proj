# 반응형 및 애니메이션 상세 개발 계획

## 개요

Instagram 스타일의 반응형 디자인과 부드러운 애니메이션을 구현하여 사용자 경험을 향상시킵니다.

**참고 문서:**
- `docs/PRD.md` - 섹션 2: 레이아웃 구조, 섹션 8: 애니메이션 & 인터랙션, 섹션 9: 반응형 브레이크포인트
- 기존 컴포넌트: `Sidebar.tsx`, `Header.tsx`, `BottomNav.tsx`, `PostCard.tsx`, `LikeButton.tsx`

---

## 1. 현재 상태 점검

### 1-1. 반응형 브레이크포인트

**현재 구현 상태:**
- ✅ Mobile (< 768px): BottomNav, Header 표시
- ✅ Tablet (768px ~ 1023px): Icon-only Sidebar (72px)
- ✅ Desktop (1024px+): Full Sidebar (244px)

**확인 사항:**
- `app/(main)/layout.tsx`에서 반응형 레이아웃 구현 확인
- Tailwind CSS 브레이크포인트 사용 (`md:`, `lg:`)
- 각 컴포넌트의 반응형 스타일 확인

### 1-2. 애니메이션

**현재 구현 상태:**
- ✅ 좋아요 클릭 애니메이션: `scale(1.3)` → `scale(1)` (0.15초)
- ✅ 더블탭 좋아요 애니메이션: 큰 하트 fade in/out (1초)
- ✅ Skeleton UI: 기본 구현 완료

**개선 필요 사항:**
- ⚠️ Shimmer 효과: Skeleton에 추가 필요
- ⚠️ 모달 애니메이션: Dialog 컴포넌트 기본 애니메이션 확인
- ⚠️ 페이지 전환 애니메이션: Next.js 기본 전환 확인
- ⚠️ 버튼 호버 효과: 일부 컴포넌트에 추가 필요
- ⚠️ 이미지 로딩 애니메이션: fade-in 효과 추가
- ⚠️ 스크롤 애니메이션: 무한 스크롤 시 부드러운 전환

---

## 2. 반응형 개선 사항

### 2-1. 프로필 페이지 반응형

**목적:** 프로필 페이지가 모든 화면 크기에서 최적화되도록 개선

**구현 내용:**

#### Mobile (< 768px)
- 프로필 이미지: 90px
- 통계 (게시물/팔로워/팔로잉): 세로 배치 또는 가로 배치 (간격 조정)
- 게시물 그리드: 3열 유지 (gap 조정)
- 버튼: 전체 너비 또는 적절한 크기

#### Tablet (768px ~ 1023px)
- 프로필 이미지: 120px
- 통계: 가로 배치
- 게시물 그리드: 3열 유지

#### Desktop (1024px+)
- 프로필 이미지: 150px
- 통계: 가로 배치
- 게시물 그리드: 3열 유지

**파일:**
- `components/profile/ProfileHeader.tsx`
- `components/profile/PostGrid.tsx`

---

### 2-2. PostModal 반응형 개선

**목적:** 모달이 모든 화면 크기에서 최적화되도록 개선

**현재 상태:**
- ✅ Mobile: 전체 페이지로 전환
- ✅ Desktop: 모달 형식 (이미지 50% + 댓글 50%)

**개선 사항:**
- Tablet (768px ~ 1023px)에서의 레이아웃 최적화
- 모달 크기 조정 (최대 너비, 최대 높이)
- 이미지 비율 조정

**파일:**
- `components/post/PostModal.tsx`

---

### 2-3. PostCard 반응형 개선

**목적:** PostCard가 모든 화면 크기에서 최적화되도록 개선

**현재 상태:**
- ✅ 이미지: 1:1 정사각형
- ✅ 최대 너비: 630px (Desktop)

**개선 사항:**
- Mobile에서 여백 조정
- Tablet에서 최대 너비 조정
- 텍스트 크기 반응형 조정

**파일:**
- `components/post/PostCard.tsx`

---

### 2-4. Sidebar 반응형 개선

**목적:** Sidebar가 화면 크기에 따라 부드럽게 전환되도록 개선

**현재 상태:**
- ✅ Desktop: 244px (아이콘 + 텍스트)
- ✅ Tablet: 72px (아이콘만)
- ✅ Mobile: 숨김

**개선 사항:**
- 전환 애니메이션 추가 (선택적)
- 툴팁 추가 (Tablet에서 아이콘만 표시 시)

**파일:**
- `components/layout/Sidebar.tsx`

---

## 3. 애니메이션 개선 사항

### 3-1. Skeleton UI Shimmer 효과

**목적:** 로딩 상태를 더 명확하게 표시

**구현 내용:**

#### Shimmer 애니메이션 CSS
```css
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.shimmer {
  background: linear-gradient(
    90deg,
    #f0f0f0 0%,
    #e0e0e0 50%,
    #f0f0f0 100%
  );
  background-size: 1000px 100%;
  animation: shimmer 2s infinite;
}
```

#### 적용 대상
- `PostCardSkeleton.tsx`
- `PostGridSkeleton.tsx`
- `ProfileHeaderSkeleton.tsx`

**파일:**
- `app/globals.css` 또는 각 Skeleton 컴포넌트

---

### 3-2. 모달 애니메이션 개선

**목적:** 모달 열기/닫기 시 부드러운 애니메이션

**구현 내용:**

#### Dialog 컴포넌트 확인
- shadcn/ui Dialog 컴포넌트의 기본 애니메이션 확인
- 필요 시 커스텀 애니메이션 추가

#### 애니메이션 효과
- 열기: fade in + scale up
- 닫기: fade out + scale down
- 배경 오버레이: fade in/out

**파일:**
- `components/ui/dialog.tsx` (확인)
- `components/post/PostModal.tsx` (필요 시 수정)

---

### 3-3. 이미지 로딩 애니메이션

**목적:** 이미지가 로드될 때 부드럽게 나타나도록

**구현 내용:**

#### Fade-in 효과
```css
.image-fade-in {
  animation: fadeIn 0.3s ease-in;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
```

#### 적용 대상
- `PostCard` 이미지
- `PostGrid` 썸네일
- `PostModal` 이미지
- `ProfileHeader` 프로필 이미지

**파일:**
- `components/post/PostCard.tsx`
- `components/profile/PostGrid.tsx`
- `components/post/PostModal.tsx`
- `components/profile/ProfileHeader.tsx`

---

### 3-4. 버튼 호버 효과 개선

**목적:** 모든 버튼에 일관된 호버 효과 적용

**구현 내용:**

#### 호버 효과
- 배경색 변경: `hover:bg-gray-50` 또는 `hover:bg-accent`
- 스케일 효과: `hover:scale-105` (선택적)
- 전환: `transition-all duration-200`

#### 적용 대상
- 좋아요 버튼 (이미 구현됨)
- 댓글 버튼
- 공유 버튼
- 북마크 버튼
- 팔로우 버튼
- 삭제 버튼
- 네비게이션 버튼

**파일:**
- 각 버튼 컴포넌트

---

### 3-5. 페이지 전환 애니메이션

**목적:** 페이지 간 전환 시 부드러운 애니메이션

**구현 내용:**

#### Next.js 기본 전환 확인
- Next.js 15의 기본 페이지 전환 확인
- 필요 시 `framer-motion` 또는 CSS 애니메이션 추가

#### 애니메이션 효과
- Fade in/out
- Slide (선택적)

**파일:**
- `app/(main)/layout.tsx` (필요 시)
- 또는 전역 CSS

---

### 3-6. 스크롤 애니메이션

**목적:** 무한 스크롤 시 부드러운 전환

**구현 내용:**

#### 새 게시물 표시 애니메이션
- Fade in 효과
- Slide up 효과 (선택적)

#### 적용 대상
- `PostFeed` 컴포넌트의 새 게시물

**파일:**
- `components/post/PostFeed.tsx`

---

### 3-7. 폼 입력 애니메이션

**목적:** 폼 입력 시 부드러운 인터랙션

**구현 내용:**

#### Input 포커스 애니메이션
- Border 색상 변경
- Shadow 효과 (선택적)

#### Textarea 자동 확장
- 댓글 입력 시 높이 자동 조정 (선택적)

**파일:**
- `components/comment/CommentForm.tsx`
- `components/post/CreatePostModal.tsx`

---

### 3-8. 알림/토스트 애니메이션 (선택적)

**목적:** 사용자 액션에 대한 피드백 제공

**구현 내용:**

#### Toast 컴포넌트 (선택적)
- shadcn/ui `toast` 컴포넌트 확인/설치
- Slide in/out 애니메이션

#### 적용 시나리오
- 게시물 삭제 성공
- 댓글 작성 성공
- 에러 발생 시

**파일:**
- `components/ui/toast.tsx` (필요 시)
- 각 컴포넌트에서 사용

---

## 4. 성능 최적화

### 4-1. 애니메이션 성능

**목적:** 애니메이션이 성능에 영향을 주지 않도록 최적화

**구현 내용:**

#### CSS 애니메이션 우선
- JavaScript 애니메이션 대신 CSS 애니메이션 사용
- `transform`과 `opacity` 속성 사용 (GPU 가속)

#### will-change 속성
```css
.animated-element {
  will-change: transform, opacity;
}
```

#### 애니메이션 중지
- 사용자가 애니메이션을 선호하지 않는 경우 대응
- `prefers-reduced-motion` 미디어 쿼리 사용

```css
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
```

**파일:**
- `app/globals.css`

---

### 4-2. 이미지 최적화

**목적:** 이미지 로딩 성능 향상

**구현 내용:**

#### Next.js Image 컴포넌트 활용
- 이미지 최적화 확인
- 적절한 `sizes` 속성 설정
- `loading="lazy"` 사용 (필요 시)

#### Placeholder
- Blur placeholder 사용 (선택적)

**파일:**
- 각 이미지 사용 컴포넌트

---

## 5. 접근성 개선

### 5-1. 애니메이션 접근성

**목적:** 모든 사용자가 애니메이션을 사용할 수 있도록

**구현 내용:**

#### prefers-reduced-motion 지원
- 애니메이션 비활성화 옵션 제공
- 중요한 정보는 애니메이션 없이도 전달 가능하도록

#### 포커스 관리
- 애니메이션 후 포커스 위치 관리
- 키보드 네비게이션 지원

**파일:**
- `app/globals.css`
- 각 애니메이션 컴포넌트

---

## 6. 구현 순서

1. **현재 상태 점검**
   - 반응형 브레이크포인트 확인
   - 애니메이션 구현 상태 확인
   - 개선 필요 사항 목록 작성

2. **Skeleton UI Shimmer 효과**
   - CSS 애니메이션 추가
   - 각 Skeleton 컴포넌트에 적용
   - 테스트

3. **이미지 로딩 애니메이션**
   - Fade-in 효과 추가
   - 각 이미지 컴포넌트에 적용
   - 테스트

4. **버튼 호버 효과 개선**
   - 일관된 호버 효과 적용
   - 각 버튼 컴포넌트 확인 및 수정
   - 테스트

5. **모달 애니메이션 확인**
   - Dialog 컴포넌트 애니메이션 확인
   - 필요 시 개선
   - 테스트

6. **프로필 페이지 반응형 개선**
   - 각 화면 크기별 스타일 조정
   - 테스트

7. **PostModal 반응형 개선**
   - Tablet 레이아웃 최적화
   - 테스트

8. **스크롤 애니메이션**
   - 새 게시물 표시 애니메이션 추가
   - 테스트

9. **성능 최적화**
   - CSS 애니메이션 최적화
   - `prefers-reduced-motion` 지원
   - 테스트

10. **최종 테스트**
    - 모든 화면 크기에서 테스트
    - 애니메이션 성능 확인
    - 접근성 확인

---

## 7. 주의사항

1. **성능 우선**
   - 애니메이션이 성능에 영향을 주지 않도록 주의
   - CSS 애니메이션 우선 사용
   - `will-change` 속성 신중하게 사용

2. **접근성**
   - `prefers-reduced-motion` 지원 필수
   - 중요한 정보는 애니메이션 없이도 전달 가능하도록

3. **일관성**
   - 모든 애니메이션에 일관된 타이밍 사용
   - 전역 CSS 변수 활용 (예: `--animation-duration`)

4. **사용자 경험**
   - 애니메이션이 너무 빠르거나 느리지 않도록
   - 사용자 액션에 즉각적인 피드백 제공

5. **브라우저 호환성**
   - 주요 브라우저에서 테스트
   - Fallback 제공 (필요 시)

---

## 8. 참고 파일

- `app/(main)/layout.tsx` - 반응형 레이아웃
- `components/layout/Sidebar.tsx` - Sidebar 반응형
- `components/layout/Header.tsx` - Mobile Header
- `components/layout/BottomNav.tsx` - Mobile BottomNav
- `components/post/PostCard.tsx` - PostCard 반응형
- `components/post/PostCardSkeleton.tsx` - Skeleton UI
- `components/post/PostModal.tsx` - 모달 반응형
- `components/post/LikeButton.tsx` - 좋아요 애니메이션
- `components/profile/ProfileHeader.tsx` - 프로필 헤더 반응형
- `components/profile/PostGrid.tsx` - 게시물 그리드 반응형
- `app/globals.css` - 전역 스타일 및 애니메이션

---

## 9. 완료 체크리스트

### 반응형 개선
- [ ] 프로필 페이지 반응형 개선
  - [ ] Mobile 스타일 조정
  - [ ] Tablet 스타일 조정
  - [ ] Desktop 스타일 확인
- [ ] PostModal 반응형 개선
  - [ ] Tablet 레이아웃 최적화
  - [ ] 모달 크기 조정
- [ ] PostCard 반응형 개선
  - [ ] Mobile 여백 조정
  - [ ] 텍스트 크기 반응형 조정
- [ ] Sidebar 반응형 개선
  - [ ] 전환 애니메이션 (선택적)
  - [ ] 툴팁 추가 (선택적)

### 애니메이션 개선
- [ ] Skeleton UI Shimmer 효과
  - [ ] CSS 애니메이션 추가
  - [ ] PostCardSkeleton에 적용
  - [ ] PostGridSkeleton에 적용
  - [ ] ProfileHeaderSkeleton에 적용
- [ ] 모달 애니메이션 확인
  - [ ] Dialog 컴포넌트 확인
  - [ ] 필요 시 개선
- [ ] 이미지 로딩 애니메이션
  - [ ] Fade-in 효과 추가
  - [ ] PostCard에 적용
  - [ ] PostGrid에 적용
  - [ ] PostModal에 적용
  - [ ] ProfileHeader에 적용
- [ ] 버튼 호버 효과 개선
  - [ ] 일관된 호버 효과 적용
  - [ ] 각 버튼 컴포넌트 확인
- [ ] 페이지 전환 애니메이션 확인
  - [ ] Next.js 기본 전환 확인
  - [ ] 필요 시 개선
- [ ] 스크롤 애니메이션
  - [ ] 새 게시물 표시 애니메이션 추가
- [ ] 폼 입력 애니메이션
  - [ ] Input 포커스 애니메이션
  - [ ] Textarea 자동 확장 (선택적)
- [ ] 알림/토스트 애니메이션 (선택적)
  - [ ] Toast 컴포넌트 확인/설치
  - [ ] 적용

### 성능 최적화
- [ ] 애니메이션 성능 최적화
  - [ ] CSS 애니메이션 우선 사용
  - [ ] `will-change` 속성 적용
  - [ ] `prefers-reduced-motion` 지원
- [ ] 이미지 최적화 확인
  - [ ] Next.js Image 컴포넌트 활용
  - [ ] 적절한 `sizes` 속성 설정

### 접근성
- [ ] 애니메이션 접근성
  - [ ] `prefers-reduced-motion` 지원
  - [ ] 포커스 관리
  - [ ] 키보드 네비게이션 지원

### 테스트
- [ ] 모든 화면 크기에서 테스트
  - [ ] Mobile (< 768px)
  - [ ] Tablet (768px ~ 1023px)
  - [ ] Desktop (1024px+)
- [ ] 애니메이션 성능 확인
- [ ] 접근성 확인
- [ ] 브라우저 호환성 확인

